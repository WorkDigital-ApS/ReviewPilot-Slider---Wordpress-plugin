const slider=document.createElement("template"),slideTemplate=document.createElement("template");function getAverageStars(e){return e<=5&&0<=e?e:5<=e?5:0}function createStars(e){function t(e,t){return('<svg xmlns="http://www.w3.org/2000/svg" class="rph-star" height="24" viewBox="0 -960 960 960" width="24" fill="'+t+'"><path d="m233-80 65-281L80-550l288-25 112-265 112 265 288 25-218 189 65 281-247-149L233-80Z"/></svg>').repeat(Math.ceil(e))}return'<div class="rph-stars-wrapper rph-stars-wrapper--over" style="width: '+e/5*100+'%">'+t(e,"orange")+'</div><div class="rph-stars-wrapper rph-stars-wrapper--under">'+t(5,"var(--elevation-color-1)")+"</div>"}function createSimpleStars(e){return'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24" fill="orange"><path d="m233-80 65-281L80-550l288-25 112-265 112 265 288 25-218 189 65 281-247-149L233-80Z"/></svg>'.repeat(Math.ceil(e))}function createSlides(e,r){return exportedSlides=new Array,e.forEach(e=>{var t=slideTemplate.content.cloneNode(!0);"both"!=r.stars&&"slides"!=r.stars||(t.querySelector(".rps-stars").innerHTML=createSimpleStars(e.rating)),t.querySelector(".rps-headline").innerHTML=e.title||"",t.querySelector(".rps-content").innerHTML=e.text||"",t.querySelector(".rps-name").innerHTML=e.writer.name||"",t.querySelector(".rps-company").innerHTML=e.writer.companyName||"",t.querySelector(".rps-position").innerHTML=e.writer.companyPosition||"",exportedSlides.push(t)}),exportedSlides}function addSchema(){var e=window.rpsData.averageRating,t=window.rpsData.testimonialsCount,r=window.rpsData.companyName,s=window.rpsData.testimonials,r=`{
        "@context": "http://schema.org",
        "@type": "Organization",
        "name": "${r}",
        "aggregateRating": {
            "@type": "AggregateRating",
            "itemReviewed": "${r}",
            "ratingValue": "${e}",
            "reviewCount": "${t}",
            "worstRating": "1"
        }`;let i=new Array;s.forEach(e=>{i.push(`{
            "@type": "Review", 
            "author": {
                "@type": "person",
                "name": "${e.writer.name}"
            },
            "reviewBody": "${e.text}",
            "name": "${e.title}",
            "reviewRating": {
            "@type": "Rating",
            "bestRating": "5",
            "ratingValue": "${e.rating}",
            "worstRating": "1"
            }
        }`)});r=r+', "review": ['+i.join(",")+"]}",e=document.createElement("script");e.setAttribute("type","application/ld+json"),e.innerHTML=r,document.head.appendChild(e)}function stopAutoplay(){clearInterval(window.rpAutoplayInterval)}function initiateAutoplay(e,t){window.rpAutoplayInterval=window.setInterval(function(){e.goNext()},t)}slider.innerHTML=`<style>:host{--background-color:#fff;--text-color:#333;--elevation-color-0:#F4F4F4;--elevation-color-1:#E0E0E0;--elevation-color-2:#9E9E9E;--headline-size:28px;--headline-lineheight:36px;--title-size:22px;--title-lineheight:28px;--text-size:16px;--text-lineheight:24px;--small-text-size:14px;--small-text-lineheight:20px;position:relative;width:100%;display:flex;justify-content:center;color:var(--text-color);container-type:inline-size;container-name:slider}*{margin:0;padding:0;box-sizing:border-box}.rp-slider{font-size:initial;font-family:inherit;width:600px;max-width:100%;padding:26px 30px 30px;background:var(--background-color);border-radius:20px}p{margin:0}p:empty{display:none}.rp-heading{position:relative;display:grid;grid-template-columns:auto auto;justify-content:space-between;padding-bottom:10px}.rp-heading-right.rp-hidden,.rp-heading.rp-hidden{display:none}.rp-heading.rp-hidden+.rp-slides{padding-top:0}.rp-heading-right{display:flex;flex-direction:column;align-items:flex-end}.rph-name{font-size:var(--headline-size);line-height:var(--headline-lineheight);font-weight:700}.rp-heading:after{content:"";position:absolute;display:block;top:100%;left:0;right:0;height:1px;width:100%;background:linear-gradient(90deg,rgba(0,0,0,0) 0,var(--elevation-color-1) 35%,var(--elevation-color-1) 65%,rgba(0,0,0,0) 100%)}.rph-stars{position:relative;width:auto;display:inline-block;height:var(--headline-lineheight)}.rph-stars-wrapper{transform:translateY(6px)}.rph-stars-wrapper--over{display:block;position:absolute;top:0;left:0;right:0;bottom:0;white-space:nowrap;overflow:hidden;z-index:1}.rph-stars-wrapper--over svg{transform:scale(1.1);transform-origin:center center}.rph-stars-wrapper--under{max-width:100%}.rph-stars-avg{font-size:var(--small-text-size);line-height:var(--small-text-lineheight);text-align:center}.rph-num-reviews{font-size:var(--small-text-size);line-height:var(--small-text-lineheight)}.rp-slides{position:relative;padding:20px 30px 0}.rp-slides-inner{width:100%;overflow-x:scroll;position:relative;scroll-behavior:smooth;scroll-snap-type:x mandatory;margin-bottom:20px}.rp-slides-inner::-webkit-scrollbar{display:none}.rp-slides-scroller{display:grid;width:calc(100% * var(--num-slides));grid-template-columns:repeat(var(--num-slides),1fr)}.rp-slide{position:relative;scroll-snap-align:start;display:flex;flex-direction:column;justify-content:center;text-align:center;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="164" viewBox="0 -960 960 960" width="164" fill="%23F4F4F4"><path d="m623.37-273.304 80-162.631h-186v-291h291v295.892l-77.435 157.739H623.37Zm-365.501 0 80-162.631h-186v-291H442.63v295.892l-77.434 157.739H257.869Z"/></svg>');background-position:bottom -40px right -20px;background-repeat:no-repeat}.rp-controls{position:absolute;top:50%;left:0;right:0;display:flex;justify-content:space-between;transform:translateY(-50%);z-index:1;pointer-events:none}.rp-controls-btn{-webkit-appearance:none;appearance:none;border:none;outline:0;padding:0;background:0 0;pointer-events:all;width:40px;height:40px;cursor:pointer;border-radius:20px;transition:border-color .3s ease-in-out;border:5px solid transparent;display:grid;place-items:center}.rp-controls-btn--next{transform:translateX(20px)}.rp-controls-btn--previous{transform:translateX(-20px)}.rp-controls-btn:hover{border-color:var(--elevation-color-1)}.rp-controls-btn svg{display:block}.rps-stars{display:flex;justify-content:center;gap:4px;margin-bottom:4px}.rps-headline{font-size:var(--title-size);line-height:var(--title-lineheight);font-weight:700;margin-bottom:10px}.rps-content{font-size:var(--text-size);line-height:var(--text-lineheight);margin-bottom:10px}.rps-name{font-weight:700;font-size:var(--text-size);line-height:var(--text-lineheight)}.rps-company,.rps-position{font-size:var(--text-size);line-height:var(--text-lineheight)}.rp-pagination{position:relative;display:flex;justify-content:center;gap:10px;z-index:1}.rp-marker{width:10px;height:10px;border-radius:10px;background-color:var(--elevation-color-1);cursor:pointer;transition:transform .3s ease-in-out,background-color .3s ease-in-out}.rp-marker-current{background-color:var(--elevation-color-2);transform:scale(1.2)}@container slider (max-width:420px){.rp-heading{justify-content:start;gap:0 .5ch}.rp-heading-left,.rp-heading-right{display:contents}.rph-name,.rph-stars-outer-wrapper{order:1;grid-column:1/-1}.rph-num-reviews,.rph-stars-avg{order:2}.rph-stars{height:auto}.rph-stars-wrapper{transform:none}.rp-slider,.rp-slides{padding-left:20px;padding-right:20px}.rp-controls-btn--next{transform:translateX(15px)}.rp-controls-btn--previous{transform:translateX(-15px)}}@container slider (min-width:340px) and (max-width:420px){.rph-stars-avg:before{content:"med "}}@container slider (max-width:340px){.rp-heading{grid-template-columns:1fr}.rph-stars-avg{text-align:left}.rp-slider{padding:20px}.rp-slides{padding-left:10px;padding-right:10px}}@media (hover:none){.rp-slides{padding-left:0;padding-right:0}.rp-controls-btn{display:none}}</style><div class="rp-slider"><div class="rp-heading"><div class="rp-heading-left"><p class="rph-name"></p><p class="rph-num-reviews"><span class="rph-num-reviews-inner"></span> anmeldelser</p></div><div class="rp-heading-right"><div class="rph-stars-outer-wrapper"><div class="rph-stars"></div></div><p class="rph-stars-avg"><span class="rph-stars-avg-number"></span> stjerner i gennemsnit</p></div></div><div class="rp-slides"><div class="rp-slides-inner"><div class="rp-slides-scroller"></div></div></div></div>`,slideTemplate.innerHTML='<div class="rp-slide"><p class="rps-stars"></p><p class="rps-headline"></p><p class="rps-content"></p><div class="rps-person"><p class="rps-name"></p><p class="rps-position"></p><p class="rps-company"></p></div></div>';class Carousel{constructor(e,t){this.elements={root:e,scroller:e.querySelector(".rp-slides-inner"),slides:e.querySelectorAll(".rp-slide"),previous:null,next:null,pagination:null},this.settings=t,this.current=e.querySelector(".rp-slide"),this.hasIntersected=new Set,this.elements.root.setAttribute("tabindex",-1),this.elements.root.setAttribute("aria-roledescription","carousel"),this.elements.scroller.setAttribute("role","group"),this.elements.scroller.setAttribute("aria-label","Items Scroller"),this.elements.scroller.setAttribute("aria-live","Polite"),this.createObservers(),this.createControls(),this.createPagination(),this.listen()}createObservers(){this.carousel_observer=new IntersectionObserver(e=>{for(var t of e)this.hasIntersected.add(t),t.target.classList.toggle("rp-current",t.isIntersecting),this.updatePagination()},{root:this.elements.scroller,threshold:.6})}createControls(){var e=document.createElement("div"),t=(e.className="rp-controls",this.createControl("previous")),r=this.createControl("next");e.appendChild(t),e.appendChild(r),this.elements.previous=t,this.elements.next=r,this.elements.root.prepend(e)}createControl(e){var t=document.createElement("button"),r=e.charAt(0).toUpperCase()+e.slice(1)+" Item",r=(t.type="button",t.title=r,t.className="rp-controls-btn rp-controls-btn--"+e,t.setAttribute("aria-label",r),document.createElementNS("http://www.w3.org/2000/svg","svg")),s=(r.setAttribute("aria-hidden","true"),r.setAttribute("viewBox","0 0 20 20"),r.setAttribute("width","20"),r.setAttribute("height","20"),r.setAttribute("fill","var(--text-color)"),document.createElementNS("http://www.w3.org/2000/svg","path"));s.setAttribute("fill-rule","evenodd"),s.setAttribute("clip-rule","evenodd");return s.setAttribute("d","next"===e?"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z":"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"),r.appendChild(s),t.appendChild(r),t}createPagination(){let s=document.createElement("nav");s.className="rp-pagination",s.setAttribute("role","tablist"),this.elements.root.appendChild(s),this.elements.slides.forEach((e,t)=>{var r=document.createElement("div");r.className="rp-marker",r.setAttribute("role","button"),r.setAttribute("data-index",t),0==t&&r.classList.add("rp-marker-current"),s.appendChild(r)}),this.elements.pagination=s}handlePaginate(e){e.target.classList.contains("rp-pagination")||(e.target.setAttribute("aria-selected",!0),e=this.elements.slides[e.target.getAttribute("data-index")],this.goToElement(e))}goNext(){var e;this.current=this.getCurrent(),this.current&&(e=this.current.nextElementSibling,this.current!==e)&&(e?this.goToElement(e):null!=this.settings.loop&&this.goToElement(this.elements.slides[0]))}goPrevious(){var e;this.current=this.getCurrent(),this.current&&(e=this.current.previousElementSibling,this.current!==e)&&(e?this.goToElement(e):null!=this.settings.loop&&this.goToElement(this.elements.slides[this.elements.slides.length-1]))}goToElement(e){var t=this.elements.scroller.scrollWidth,r=this.elements.slides.length,s=Array.prototype.slice.call(e.parentElement.children);this.elements.scroller.scrollLeft=s.indexOf(e)*(t/r),this.current=this.getCurrent()}getCurrent(){return this.elements.scroller.querySelector(".rp-current")}updatePagination(){let r=Array.prototype.slice.call(this.elements.slides).indexOf(this.getCurrent());0<=r&&this.elements.pagination.querySelectorAll(".rp-marker").forEach((e,t)=>{e.classList.remove("rp-marker-current"),t==r&&e.classList.add("rp-marker-current")})}listen(){for(var e of this.elements.slides)this.carousel_observer.observe(e);this.elements.next.addEventListener("click",this.goNext.bind(this)),this.elements.previous.addEventListener("click",this.goPrevious.bind(this)),this.elements.pagination.addEventListener("click",this.handlePaginate.bind(this))}}document.addEventListener("DOMContentLoaded",function(){var e,t=document.querySelector("rp-kundeudtalelser");t?(e=t.getAttribute("data-apikey"),t=t.getAttribute("data-apitags"),e?(request=new XMLHttpRequest,"demo"==e?request.open("GET","demo/demo.json",!0):t?request.open("GET","https://portal.kundeudtalelser.dk/api/testimonials/"+e+"?tags="+t,!0):request.open("GET","https://portal.kundeudtalelser.dk/api/testimonials/"+e,!0),request.onload=function(){200<=request.status&&request.status<400?(window.rpsData=JSON.parse(request.responseText),window.customElements.define("rp-kundeudtalelser",Kundeudtalelser),"false"!=document.querySelector("rp-kundeudtalelser").getAttribute("data-schema")&&addSchema()):console.log("[ReviewPilotSlider] Kunne ikke indhente data fra kundeudtalelser.dk, Kontakt venligst supporten")},request.onerror=function(){console.log("[ReviewPilotSlider] Kunne ikke oprette forbindelse til APIet hos kundeudtalelser.dk, Kontakt venligst supporten")},request.send()):console.log("[ReviewPilotSlider] data-apikey mangler at blive definerete på <rp-kundeudtalelser> elementet")):console.log("[ReviewPilotSlider] Kunne ikke finde <rp-kundeudtalelser> elementet på siden")});class Kundeudtalelser extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});var e=getAverageStars(window.rpsData.averageRating),t=0<window.rpsData.testimonialsCount?window.rpsData.testimonialsCount:0;let r=window.rpsData.companyName;this.settings={header:null!=this.getAttribute("data-header")?this.getAttribute("data-header"):"true",headline:null!=this.getAttribute("data-headline")?this.getAttribute("data-headline"):null,stars:null!=this.getAttribute("data-stars")?this.getAttribute("data-stars"):"both",autoplay:null!=this.getAttribute("data-autoplay")?this.getAttribute("data-autoplay"):null,loop:null!=this.getAttribute("data-loop")?this.getAttribute("data-loop"):null,schema:null!=this.getAttribute("data-schema")?this.getAttribute("data-schema"):null,interval:null!=this.getAttribute("data-interval")?parseInt(this.getAttribute("data-interval")):1e4},this.settings.headline&&(r=this.settings.headline),this.shadowRoot.appendChild(slider.content.cloneNode(!0)),"true"!=this.settings.header&&this.shadowRoot.querySelector(".rp-heading").classList.add("rp-hidden"),"both"==this.settings.stars||"header"==this.settings.stars?(this.shadowRoot.querySelector(".rph-stars").innerHTML=createStars(e),this.shadowRoot.querySelector(".rph-stars-avg-number").innerHTML=e):this.shadowRoot.querySelector(".rp-heading-right").classList.add("rp-hidden"),this.settings.headline&&""!=this.settings.headline?this.shadowRoot.querySelector(".rph-name").innerHTML=this.settings.headline:this.shadowRoot.querySelector(".rph-name").innerHTML=r,this.shadowRoot.querySelector(".rph-num-reviews-inner").innerHTML=t;e=createSlides(window.rpsData.testimonials,this.settings);e.forEach(e=>{this.shadowRoot.querySelector(".rp-slides-scroller").appendChild(e)}),this.shadowRoot.querySelector(".rp-slides").setAttribute("style","--num-slides:"+e.length);const s=new Carousel(this.shadowRoot.querySelector(".rp-slides"),this.settings);null!=this.settings.autoplay&&"false"!=this.settings.autoplay&&(initiateAutoplay(s,this.settings.interval),s.elements.scroller.addEventListener("mouseover",function e(){stopAutoplay(),s.elements.scroller.removeEventListener("mouseover",e,!1)},!1))}connectedCallback(){this.render()}render(){}}